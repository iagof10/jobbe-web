@model long

@{
    ViewData["Title"] = "Home Page";
}

@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="pt-br" data-footer="true" data-override='{"attributes":{"layout": "boxed"}}'>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Jobbe</title>
    <meta name="description" content="Portfolio Home Page" />

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Jobbe</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cropme@1.4.3/dist/cropme.min.css">

    <!-- Favicon Tags Start -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../img/logo/icon_sol.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../img/logo/icon_sol.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../img/logo/icon_sol.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../img/logo/icon_sol.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../img/logo/icon_sol.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../img/logo/icon_sol.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../img/logo/icon_sol.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../img/logo/icon_sol.png" />
    <link rel="icon" type="image/png" href="../img/logo/icon_sol.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="../img/logo/icon_sol.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="../img/logo/icon_sol.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../img/logo/icon_sol.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="../img/logo/icon_sol.png" sizes="128x128" />
    <meta name="application-name" content="&nbsp;" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="../img/logo/icon_sol.png" />
    <meta name="msapplication-square70x70logo" content="../img/logo/icon_sol.png" />
    <meta name="msapplication-square150x150logo" content="../img/logo/icon_sol.png" />
    <meta name="msapplication-wide310x150logo" content="../img/logo/icon_sol.png" />
    <meta name="msapplication-square310x310logo" content="../img/logo/icon_sol.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
    <script src="https://unpkg.com/sweetalert2@7.8.2/dist/sweetalert2.all.js"></script>
    <!-- Favicon Tags End -->
    <!-- Font Tags Start -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@300;400;600&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="../font/CS-Interface/style.css" />
    <!-- Font Tags End -->
    <!-- Vendor Styles Start -->
    <link rel="stylesheet" href="../css/vendor/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/vendor/OverlayScrollbars.min.css" />

    <link rel="stylesheet" href="../css/vendor/baguetteBox.min.css" />

    <link rel="stylesheet" href="../css/vendor/nouislider.min.css" />

    <!-- Vendor Styles End -->
    <!-- Template Base Styles Start -->
    <link rel="stylesheet" href="../css/styles.css" />
    <!-- Template Base Styles End -->

    <link rel="stylesheet" href="../css/main.css" />
    <script src="../js/base/loader.js"></script>
    <script src="../js/site.js"></script>
</head>

<body>
    <div id="root">
        <main style="padding-top: 5vh;">
            <div class="container">
                <div class="row gx-4 gy-5">
                    <!-- Left Side Start -->
                    <div class="col-12 col-xl-4 col-xxl-3">
                        <!-- Biography Start -->
                        <div class="card">
                            <div class="card-body mb-n5">
                                <div class="d-flex align-items-center flex-column">
                                    <div class="mb-3 d-flex align-items-center flex-column">
                                        <div class="sw-13 position-relative mb-3">
                                            <img id="fotoPerfilPrestador" src="../img/profile/profile-2.webp" class="img-fluid card" alt="thumb" />
                                        </div>

                                        <!-- Vertically centered modal-->
                                        <div class="modal fade modal-close-out"
                                             id="modalAlterarFotoPerfil"
                                             tabindex="-1"
                                             role="dialog"
                                             aria-labelledby="verticallyCenteredLabel"
                                             aria-hidden="true">
                                            <div class="modal-dialog modal-dialog-centered">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h5 class="modal-title" id="verticallyCenteredLabel">Alterar Foto Perfil</h5>
                                                        <button id="btnCloseAlterarFotoPerfil" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <!-- Quill Top Label Start -->

                                                        <div class="d-flex flex-row justify-content-between w-100 w-sm-50 w-xl-100 mb-5">
                                                            <h7 class="modal-title" id="verticallyCenteredLabel">Insira sua publicação, ela será exibida para milhares de clientes!</h7>
                                                        </div>

                                                        <section class="scroll-section" id="topLabel">

                                                            <div class="row">
                                                                <div class="col text-center p-2">
                                                                    <img style="width: 100%;" id="saved-imgFotoPerfil">
                                                                    <div class="mt-3">
                                                                        <button style="width: 100%;" id="btnGetImageFotoPerfil" class="btn btn-primary">Adicionar Foto</button>
                                                                        <input class="d-none" type="file" id="fileUploadFotoPerfil" accept="image/*" />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- ================ Start of Modal =============== -->
                                                            <div class="modal fade" id="imgModal-dialogFotoPerfil" tabindex="-1" role="dialog" aria-hidden="true">
                                                                <div class="modal-dialog modal-dialog-centered modal-lg">
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <h3 id="imgModal-hdr">Bootstrap Modal</h3>
                                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                                        </div>
                                                                        <div id="imgModal-msgFotoPerfil" class="modal-body mb-2">
                                                                            <div id="cropped-img-wrp"><img id="cropped-imgFotoPerfil"></div>
                                                                            <div id="imgModal-cropme-wrp" class="justify-content-center">
                                                                                <div id="imgModal-cropmeFotoPerfil" class=""></div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer justify-content-center">
                                                                            <button id="imgModal-btnSaveFotoPerfil" class="btn btn-primary">Save Image</button>
                                                                            <button id="imgModal-btnCropFotoPerfil" type="button" class="btn btn-info">Crop</button>
                                                                            <button id="imgModal-btnCancelFotoPerfil" type="button" class="btn btn-info">Cancel</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </section>
                                                        <!-- Quill Top Label End -->
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button id="btnSalvarFotoPerfil" type="button" class="btn btn-primary">Save changes</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="text-muted">
                                            <button type="button" class="btn btn-outline-primary btn-icon btn-icon-end w-100 w-sm-auto" data-bs-toggle="modal" data-bs-target="#modalAlterarFotoPerfil">
                                                <i data-cs-icon="edit"></i>
                                            </button>
                                        </div>

                                        <br />

                                        <div class="h5 mb-0"><span id="apelidoPrestador"></span></div>
                                        <div class="text-muted"><span id="categoriaPrestador"></span></div>
                                        <div class="text-muted">
                                            <i data-cs-icon="email" class="me-1"></i>
                                            <span class="align-middle"><span id="emailPrestador"></span></span>
                                        </div>
                                        <div class="mb-3" id="listaTelefone">
                                        </div>

                                        <div>
                                            <img src="../img/favicon/olho.png" style="width: 3.5vh">
                                        </div>

                                        <div>
                                            <span id="numVisualizacoes" style="color: #bfbfbf"></span>
                                        </div>

                                    </div>
                                </div>

                                <div class="mb-3">

                                    <div class="d-flex align-items-center flex-column mb-3">
                                        <button type="button" class="btn btn-outline-primary w-100 me-2" data-bs-toggle="modal" data-bs-target="#modalAddMural">Editar Mural</button>
                                    </div>

                                    <!-- Vertically centered modal-->
                                    <div class="modal fade modal-close-out"
                                         id="modalAddMural"
                                         tabindex="-1"
                                         role="dialog"
                                         aria-labelledby="verticallyCenteredLabel"
                                         aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="verticallyCenteredLabel">Mural</h5>
                                                    <button id="btnCloseAddMural" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">
                                                    <!-- Quill Top Label Start -->

                                                    <div class="mb-5">
                                                        <h7 class="modal-title" id="verticallyCenteredLabel">Insira seu mural e detalhe seu perfil, dessa forma os clientes serão mais atraídos pelo seu conteúdo!</h7>
                                                    </div>

                                                    <section class="scroll-section" id="topLabel">
                                                        <label class="mb-3 top-label">
                                                            <input id="tituloMural" class="form-control" />
                                                            <span>Título</span>
                                                        </label>
                                                        <div class="mb-3 top-label">
                                                            <textarea id="descricaoMural" class="form-control" rows="2"></textarea>
                                                            <span>Descrição</span>
                                                        </div>
                                                    </section>
                                                    <!-- Quill Top Label End -->
                                                </div>
                                                <div class="modal-footer">
                                                    <button id="btnSalvarMural" type="button" class="btn btn-primary">Save changes</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <p id="tituloMuralPrestador" class="text-medium text-muted mb-2">

                                    </p>
                                    <p id="descMuralPrestador">

                                    </p>
                                </div>

                                <div class="mb-5">

                                    <div class="d-flex align-items-center flex-column mb-3">
                                        <button type="button" class="btn btn-outline-primary w-100 me-2" data-bs-toggle="modal" data-bs-target="#modalAddRegiaoAtendimento">Alterar Região de Atendimento</button>
                                    </div>

                                    <!-- Vertically centered modal-->
                                    <div class="modal fade modal-close-out"
                                         id="modalAddRegiaoAtendimento"
                                         tabindex="-1"
                                         role="dialog"
                                         aria-labelledby="verticallyCenteredLabel"
                                         aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="verticallyCenteredLabel">Região de Atendimento</h5>
                                                    <button id="btnCloseRegiaoAtendimento" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">

                                                    <div class="mb-5">
                                                        <h7 class="modal-title" id="verticallyCenteredLabel">Para adicionar sua região de atendimento precisamos saber onde você atua. Você escolhe como nos fornecer essa informação, através da localização ou CEP!</h7>
                                                    </div>

                                                    <section class="scroll-section" id="topLabel">

                                                        <div class="d-flex align-items-center flex-column mb-5">
                                                            <button id="btnSelecionarLocalizacao" type="button" class="btn btn-outline-primary w-100 me-2" data-bs-toggle="modal" data-bs-target="#modalAddRegiaoLocalizacao">Usar Localização</button>
                                                        </div>

                                                        <div class="d-flex align-items-center flex-column mb-5">
                                                            <button id="btnSelecionarCep" type="button" class="btn btn-outline-primary w-100 me-2" data-bs-toggle="modal" data-bs-target="#modalAddRegiaoCep">Usar CEP</button>
                                                        </div>

                                                    </section>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Vertically centered modal-->
                                    <div class="modal fade modal-close-out"
                                         id="modalAddRegiaoLocalizacao"
                                         tabindex="-1"
                                         role="dialog"
                                         aria-labelledby="verticallyCenteredLabel"
                                         aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="verticallyCenteredLabel">Região de Atendimento</h5>
                                                    <button id="btnCloseRegiaoLocalizacao" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">

                                                    <div class="mb-5">
                                                        <h7 class="modal-title" id="verticallyCenteredLabel">Insira o raio de atendimento</h7>
                                                    </div>

                                                    <section class="scroll-section" id="topLabel">

                                                        <div class="slidecontainer">
                                                            <input type="range" min="5" max="5000" value="5" class="slider" id="myRange">
                                                            <p>Km: <span id="valorKm"></span></p>
                                                            <p><span id="latitudelongitude"></span></p>
                                                        </div>

                                                    </section>
                                                </div>
                                                <div class="modal-footer">
                                                    <button id="btnSalvarRegiao" type="button" class="btn btn-primary">Salvar</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Vertically centered modal-->
                                    <div class="modal fade modal-close-out"
                                         id="modalAddRegiaoCep"
                                         tabindex="-1"
                                         role="dialog"
                                         aria-labelledby="verticallyCenteredLabel"
                                         aria-hidden="true">
                                        <div class="modal-dialog modal-dialog-centered">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="verticallyCenteredLabel">Região de Atendimento</h5>
                                                    <button id="btnCloseRegiaoCep" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="modal-body">

                                                    <div class="mb-5">
                                                        <h7 class="modal-title" id="verticallyCenteredLabel">Insira o CEP</h7>
                                                    </div>

                                                    <section class="scroll-section" id="topLabel">

                                                        <label class="mb-3 top-label">
                                                            <input id="cepLocalizacao" class="form-control" />
                                                            <span>CEP</span>
                                                        </label>

                                                        <div class="d-flex align-items-center flex-column mb-5">
                                                            <button id="btnBuscarCep" type="button" class="btn btn-outline-primary w-100 me-2">Buscar</button>
                                                        </div>

                                                        <div class="slidecontainer">
                                                            <input type="range" min="5" max="5000" value="5" class="slider" id="myRangeCep">
                                                            <p>Km: <span id="valorKmCep"></span></p>
                                                        </div>

                                                        <p><span id="enderecoPorCep"></span></p>

                                                    </section>
                                                </div>
                                                <div class="modal-footer">
                                                    <button id="btnSalvarRegiaoCep" style="visibility: hidden;" type="button" class="btn btn-primary">Salvar</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <p class="text-medium text-muted mb-1">
                                        Região de Atendimento
                                    </p>
                                    <p id="txtRegiaoAtendimento" class="mb-1">

                                    </p>

                                    <p id="txtRegiaoAtendimentoCidade" class="mb-2">

                                    </p>

                                    <p class="text-medium text-muted mb-1">
                                        Atende em um raio de:
                                    </p>
                                    <p id="txtRaioAtendimento" class="mb-2">

                                    </p>
                                </div>


                                <div class="mb-2">
                                    <p class="text-medium text-muted mb-2">Compartilhe seu perfil com sua rede!</p>
                                </div>

                                <div class="d-flex mb-5">

                                    <a id="shareWhatsapp" style="margin-right: 2vw">
                                        <img src="../img/favicon/whatsapp.png" style="width: 5vh">
                                    </a>

                                    <a href="http://google.com" style="margin-right: 2vw">
                                        <img src="../img/favicon/instagram2.png" style="width: 5vh">
                                    </a>

                                    <a href="http://google.com" style="margin-right: 2vw">
                                        <img src="../img/favicon/facebook.png" style="width: 5vh">
                                    </a>

                                    <a href="http://google.com" style="margin-right: 2vw">
                                        <img src="../img/favicon/email.png" style="width: 5vh">
                                    </a>

                                </div>

                            </div>
                        </div>

                        <br />

                        <div style="width:100%" class="d-flex flex-row justify-content-between">

                            <button type="button" class="btn btn-outline-primary w-100 me-2" data-bs-toggle="modal" data-bs-target="#modalAddCard">Add Card</button>

                            <!-- Vertically centered modal-->
                            <div class="modal fade modal-close-out"
                                 id="modalAddCard"
                                 tabindex="-1"
                                 role="dialog"
                                 aria-labelledby="verticallyCenteredLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="verticallyCenteredLabel">Mural</h5>
                                            <button id="btnCloseAddCard" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <!-- Quill Top Label Start -->

                                            <div class="d-flex flex-row justify-content-between w-100 w-sm-50 w-xl-100 mb-5">
                                                <h7 class="modal-title" id="verticallyCenteredLabel">Insira seu mural e detalhe seu perfil, dessa forma os clientes serão mais atraídos pelo seu conteúdo!</h7>
                                            </div>

                                            <section class="scroll-section" id="topLabel">
                                                <label class="mb-3 top-label">
                                                    <input id="tituloCard" class="form-control" />
                                                    <span>Título</span>
                                                </label>
                                                <div class="mb-3 top-label">
                                                    <textarea id="descricaoCard" class="form-control" rows="2"></textarea>
                                                    <span>Descrição</span>
                                                </div>
                                            </section>
                                            <!-- Quill Top Label End -->
                                        </div>
                                        <div class="modal-footer">
                                            <button id="btnSalvarCard" type="button" class="btn btn-primary">Save changes</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Vertically centered modal-->
                            <div class="modal fade modal-close-out"
                                 id="modalDeleteCard"
                                 tabindex="-1"
                                 role="dialog"
                                 aria-labelledby="verticallyCenteredLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="verticallyCenteredLabel">Excluir Card</h5>
                                            <button id="btnCloseRemoveCard" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">
                                            <!-- Quill Top Label Start -->

                                            <div class="d-flex flex-row justify-content-between w-100 w-sm-50 w-xl-100 mb-5">
                                                <h7 class="modal-title" id="verticallyCenteredLabel">Tem certeza que deseja excluir esse card?</h7>
                                            </div>

                                            <!-- Quill Top Label End -->
                                        </div>
                                        <div class="modal-footer">
                                            <button id="btnDeletarCard" type="button" class="btn btn-primary">Excluir</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <br />

                        <div id="listaCards">
                        </div>

                        <!-- Biography End -->
                    </div>
                    <!-- Left Side End -->
                    <!-- Right Side Start -->
                    <div class="col-12 col-xl-8 col-xxl-9">
                        <!-- Title Tabs Start -->
                        <ul class="nav nav-tabs nav-tabs-title nav-tabs-line-title responsive-tabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" data-bs-toggle="tab" href="#projectsTab" role="tab" aria-selected="true">Galeria</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" data-bs-toggle="tab" href="#publicacaoTab" role="tab" aria-selected="false">Publicações</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" data-bs-toggle="tab" href="#friendsTab" role="tab" aria-selected="false">Parceiros</a>
                            </li>
                            <li class="nav-item dropdown ms-auto d-none responsive-tab-dropdown">
                                <a class="btn btn-icon btn-icon-only btn-background pt-0"
                                   href="#"
                                   role="button"
                                   data-bs-toggle="dropdown"
                                   aria-haspopup="true"
                                   aria-expanded="false"
                                   data-diplay="static">
                                    <i data-cs-icon="more-horizontal"></i>
                                </a>
                                <ul class="dropdown-menu mt-2 dropdown-menu-end"></ul>
                            </li>
                        </ul>
                        <!-- Title Tabs End -->

                        <div class="tab-content">

                            <!-- Vertically centered modal-->
                            <div class="modal fade modal-close-out"
                                 id="modalAddGaleria"
                                 tabindex="-1"
                                 role="dialog"
                                 aria-labelledby="verticallyCenteredLabel"
                                 aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="verticallyCenteredLabel">Adicionar Mídia</h5>
                                            <button id="btnCloseAddMidia" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">


                                            <!-- Quill Top Label Start -->

                                            <div class="d-flex flex-row justify-content-between w-100 w-sm-50 w-xl-100 mb-5">
                                                <h7 class="modal-title" id="verticallyCenteredLabel">Insira uma nova foto para sua galeria!</h7>
                                            </div>

                                            <section class="scroll-section" id="topLabel">

                                                <div class="row">
                                                    <div class="col text-center p-2">
                                                        <img style="width: 100%;" id="saved-imgFotoMidia">
                                                        <div class="mt-3">
                                                            <button style="width: 100%;" id="btnGetImageFotoMidia" class="btn btn-primary">Adicionar Foto</button>
                                                            <input class="d-none" type="file" id="fileUploadFotoMidia" accept="image/*" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- ================ Start of Modal =============== -->
                                                <div class="modal fade" id="imgModal-dialogFotoMidia" tabindex="-1" role="dialog" aria-hidden="true">
                                                    <div class="modal-dialog modal-dialog-centered modal-lg">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h3 id="imgModal-hdr">Bootstrap Modal</h3>
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                            </div>
                                                            <div id="imgModal-msgFotoMidia" class="modal-body mb-2">
                                                                <div id="cropped-img-wrp"><img id="cropped-imgFotoMidia"></div>
                                                                <div id="imgModal-cropme-wrp" class="justify-content-center">
                                                                    <div id="imgModal-cropmeFotoMidia" class=""></div>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer justify-content-center">
                                                                <button id="imgModal-btnSaveFotoMidia" class="btn btn-primary">Save Image</button>
                                                                <button id="imgModal-btnCropFotoMidia" type="button" class="btn btn-info">Crop</button>
                                                                <button id="imgModal-btnCancelFotoMidia" type="button" class="btn btn-info">Cancel</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>
                                            <!-- Quill Top Label End -->


                                        </div>
                                        <div class="modal-footer">
                                            <button id="btnSalvarMidia" type="button" class="btn btn-primary">Save changes</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Projects Tab Start -->
                            <div class="tab-pane fade active show" id="projectsTab" role="tabpanel">


                                <br />

                                <div class="d-flex align-items-center flex-column mb-5">
                                    <button type="button" class="btn btn-outline-primary w-100 me-2" data-bs-toggle="modal" data-bs-target="#modalAddGaleria">Add Mídia</button>
                                </div>

                                <div class="modal fade" id="exampleModalFullscreen" tabindex="-1" aria-labelledby="exampleModalFullscreenLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-fullscreen">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <div class="sw-7 me-1 mb-1 d-inline-block">
                                                    <img id="fotoPerfilGaleriaAmpliada" class="img-fluid rounded-md" alt="thumb" />
                                                </div>
                                                <h5 class="modal-title h4" id="nomeUsuarioGaleriaAmpliada"></h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div id="frameImagemAmpliada" class="modal-body" style="padding-left: 0;padding-right: 0;">



                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- List Start -->
                                <div class="row row-cols-1 row-cols-sm-2 row-cols-xxl-3 g-2 mb-5" id="listaGaleria">
                                </div>
                                <!-- List End -->

                            </div>
                            <!-- Projects Tab End -->
                            <!-- Collections Tab Start -->
                            <div class="tab-pane fade" id="publicacaoTab" role="tabpanel">

                                <!-- Vertically centered modal-->
                                <div class="modal fade modal-close-out"
                                     id="modalAddPublicacao"
                                     tabindex="-1"
                                     role="dialog"
                                     aria-labelledby="verticallyCenteredLabel"
                                     aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="verticallyCenteredLabel">Publicação</h5>
                                                <button id="btnCloseAddPublicacao" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <!-- Quill Top Label Start -->

                                                <div class="d-flex flex-row justify-content-between w-100 w-sm-50 w-xl-100 mb-5">
                                                    <h7 class="modal-title" id="verticallyCenteredLabel">Insira sua publicação, ela será exibida para milhares de clientes!</h7>
                                                </div>

                                                <section class="scroll-section" id="topLabel">

                                                    <div class="row">
                                                        <div class="col text-center p-2">
                                                            <img style="width: 100%;" id="saved-img">
                                                            <div class="mt-3">
                                                                <button style="width: 100%;" id="btnGetImage" class="btn btn-primary">Adicionar Foto</button>
                                                                <input class="d-none" type="file" id="fileUpload" accept="image/*" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- ================ Start of Modal =============== -->
                                                    <div class="modal fade" id="imgModal-dialog" tabindex="-1" role="dialog" aria-hidden="true">
                                                        <div class="modal-dialog modal-dialog-centered modal-lg">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h3 id="imgModal-hdr">Bootstrap Modal</h3>
                                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                                </div>
                                                                <div id="imgModal-msg" class="modal-body mb-2">
                                                                    <div id="cropped-img-wrp"><img id="cropped-img"></div>
                                                                    <div id="imgModal-cropme-wrp" class="justify-content-center">
                                                                        <div id="imgModal-cropme" class=""></div>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer justify-content-center">
                                                                    <button id="imgModal-btnSave" class="btn btn-primary">Save Image</button>
                                                                    <button id="imgModal-btnCrop" type="button" class="btn btn-info">Crop</button>
                                                                    <button id="imgModal-btnCancel" type="button" class="btn btn-info">Cancel</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!-- ================ End of Modal =============== -->

                                                    <div class="mb-3 top-label">
                                                        <textarea id="descricaoPublicacao" class="form-control" rows="2"></textarea>
                                                        <span>Descrição</span>
                                                    </div>

                                                </section>
                                                <!-- Quill Top Label End -->
                                            </div>

                                            <div class="modal-footer">
                                                <button id="btnSalvarPublicacao" type="button" class="btn btn-primary">Save changes</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <br />

                                <div class="d-flex align-items-center flex-column mb-5">
                                    <button type="button" class="btn btn-outline-primary w-100 me-2" data-bs-toggle="modal" data-bs-target="#modalAddPublicacao">Add Publicação</button>
                                </div>


                                <div class="modal fade" id="modalPublicacaoAmpliada" tabindex="-1" aria-labelledby="exampleModalFullscreenLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-fullscreen">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <div class="sw-7 me-1 mb-1 d-inline-block">
                                                    <img id="fotoPublicacaoAmpliada" class="img-fluid rounded-md" alt="thumb" />
                                                </div>
                                                <h5 class="modal-title h4" id="nomeUsuarioPublicacaoAmpliada"></h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div id="framePublicacaoAmpliada" class="modal-body" style="padding-left: 0;padding-right: 0;">



                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <!-- List Start -->
                                <div class="mb-5" id="listaPublicacao">
                                </div>
                                <!-- List End -->
                            </div>
                            <!-- Collections Tab End -->
                        </div>
                    </div>
                    <!-- Right Side End -->
                </div>
            </div>
        </main>
    </div>

    <!-- Theme Settings Modal Start -->
    <div class="modal fade modal-right scroll-out-negative"
         id="settings"
         data-bs-backdrop="true"
         tabindex="-1"
         role="dialog"
         aria-labelledby="settings"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable full" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Selecione sua preferência</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <div class="scroll-track-visible">
                        <div class="mb-5" id="color">
                            <label class="mb-3 d-inline-block form-label">Tema</label>

                            <div class="row d-flex g-3 justify-content-between flex-wrap mb-3">
                                <a href="#" class="flex-grow-1 w-50 option col" data-value="light-red" data-parent="color">
                                    <div class="card rounded-md p-3 mb-1 no-shadow color">
                                        <div class="red-light"></div>
                                    </div>
                                    <div class="text-muted text-part">
                                        <span class="text-extra-small align-middle">Tema Claro</span>
                                    </div>
                                </a>
                                <a href="#" class="flex-grow-1 w-50 option col" data-value="dark-red" data-parent="color">
                                    <div class="card rounded-md p-3 mb-1 no-shadow color">
                                        <div class="red-dark"></div>
                                    </div>
                                    <div class="text-muted text-part">
                                        <span class="text-extra-small align-middle">Tema Escuro</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Theme Settings Modal End -->
    <!-- Theme Settings & Niches Buttons Start -->
    <div class="settings-buttons-container">
        <button type="button" class="btn settings-button btn-primary p-0" data-bs-toggle="modal" data-bs-target="#settings" id="settingsButton">
            <span class="d-inline-block no-delay" data-bs-delay="0" data-bs-offset="0,3" data-bs-toggle="tooltip" data-bs-placement="left" title="Settings">
                <i data-cs-icon="paint-roller" class="position-relative"></i>
            </span>
        </button>
    </div>
    <!-- Theme Settings & Niches Buttons End -->
    <!-- Search Modal Start -->
    <div class="modal fade modal-under-nav modal-search modal-close-out" id="searchPagesModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header border-0 p-0">
                    <button type="button" class="btn-close btn btn-icon btn-icon-only btn-foreground" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body ps-5 pe-5 pb-0 border-0">
                    <input id="searchPagesInput" class="form-control form-control-xl borderless ps-0 pe-0 mb-1 auto-complete" type="text" autocomplete="off" />
                </div>
                <div class="modal-footer border-top justify-content-start ps-5 pe-5 pb-3 pt-3 border-0">
                    <span class="text-alternate d-inline-block m-0 me-3">
                        <i data-cs-icon="arrow-bottom" data-cs-size="15" class="text-alternate align-middle me-1"></i>
                        <span class="align-middle text-medium">Navigate</span>
                    </span>
                    <span class="text-alternate d-inline-block m-0 me-3">
                        <i data-cs-icon="arrow-bottom-left" data-cs-size="15" class="text-alternate align-middle me-1"></i>
                        <span class="align-middle text-medium">Select</span>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <style>
        .slidecontainer {
            width: 100%;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 25px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
        }

            .slider:hover {
                opacity: 1;
            }

            .slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 25px;
                height: 25px;
                background: #d44f4f;
                cursor: pointer;
            }

            .slider::-moz-range-thumb {
                width: 25px;
                height: 25px;
                background: #d44f4f;
                cursor: pointer;
            }
    </style>

    <!-- jQuery library -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js">
    </script>
    <!-- Latest minified JavaScript -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js">
    </script>
    <!-- CropMe from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/cropme@1.4.3/dist/cropme.min.js"></script>

    <!-- Search Modal End -->
    <!-- Vendor Scripts Start -->
    <script src="../js/vendor/jquery-3.5.1.min.js"></script>
    <script src="../js/vendor/bootstrap.bundle.min.js"></script>
    <script src="../js/vendor/OverlayScrollbars.min.js"></script>
    <script src="../js/vendor/autoComplete.min.js"></script>
    <script src="../js/vendor/clamp.min.js"></script>
    <script src="../js/vendor/baguetteBox.min.js"></script>
    <script src="../js/cs/responsivetab.js"></script>
    <script src="../js/vendor/nouislider.min.js"></script>
    <script src="../js/forms/controls.slider.js"></script>
    <script src="../js/cs/scrollspy.js"></script>
    <!-- Vendor Scripts End -->
    <!-- Template Base Scripts Start -->
    <script src="../font/CS-Line/csicons.min.js"></script>
    <script src="../js/base/helpers.js"></script>
    <script src="../js/base/globals.js"></script>
    <script src="../js/base/nav.js"></script>
    <script src="../js/base/search.js"></script>
    <script src="../js/base/settings.js"></script>
    <script src="../js/base/init.js"></script>
    <!-- Template Base Scripts End -->
    <!-- Page Specific Scripts Start -->
    <script src="../js/pages/portfolio.home.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/scripts.js"></script>
    <!-- Page Specific Scripts End -->


    <script>

        //Cropme in Modal
        var CiM = {
            myCropme: null,

            opt: {
                //our extra properties. must be set!
                my_win_ratio: 0,
                my_final_size: { w: 0, h: 0 },

                container: { width: 0, height: 0 }, //to be set
                viewport: {
                    width: 0, height: 0, //to be set
                    type: 'square',
                    border: { width: 2, enable: true, color: '#fff' }
                },
                zoom: { enable: true, mouseWheel: true, slider: true },
                rotation: { slider: true, enable: true },
                transformOrigin: 'viewport',
            },

            crop_into_img: function(img, callback) {
                CiM.myCropme.crop({
                    width: CiM.opt.my_final_size.w,
                }).then(function(res) {
                    img[0].src = res;
                    CiM.myCropme.destroy();
                    CiM.myCropme = null;
                    if (callback) callback();
                })
            },

            imgHolder: null,
            imgHolderCallback: null,
            read_file_from_input: function(input, callback) {
                if (input.files && input.files[0]) {
                    imgHolderCallback = callback;
                    var reader = new FileReader();
                    if (!CiM.imgHolder) {
                        CiM.imgHolder = new Image();
                        CiM.imgHolder.onload = function() {
                            if (imgHolderCallback) {
                                imgHolderCallback();
                            }
                        }
                    }
                    reader.onload = function(e) {
                        console.log('image data loaded!');
                        CiM.imgHolder.src = e.target.result; //listen to img:load...
                    }
                    reader.readAsDataURL(input.files[0]);
                }
                else {
                    console.warn('failed to read file');
                }
            },

            getImagePlaceholder: function(width, height, text) {
                //based on https://cloudfour.com/thinks/simple-svg-placeholder/
                var svg = '\
                              <svg xmlns="http://www.w3.org/2000/svg" width="{w}" \
                              height="{h}" viewBox="0 0 {w} {h}">\
                              <rect fill="#ddd" width="{w}" height="{h}"/>\
                              <text fill="rgba(0,0,0,0.5)" font-family="sans-serif"\
                              font-size="30" dy="10.5" font-weight="bold"\
                              x="50%" y="50%" text-anchor="middle">{t}</text>\
                              </svg>';
                var cleaned = svg
                    .replace(/{w}/g, width)
                    .replace(/{h}/g, height)
                    .replace('{t}', text)
                    .replace(/[\t\n\r]/gim, '') // Strip newlines and tabs
                    .replace(/\s\s+/g, ' ') // Condense multiple spaces
                    .replace(/'/gim, '\\i'); // Normalize quotes

                var encoded = encodeURIComponent(cleaned)
                    .replace(/\(/g, '%28') // Encode brackets
                    .replace(/\)/g, '%29');

                return 'data:image/svg+xml;charset=UTF-8,' + encoded;
            },

            get_image_placeholder: function(text) {
                return CiM.getImagePlaceholder(
                    CiM.opt.my_final_size.w, CiM.opt.my_final_size.h, text);
            },

            uploadImage: function(img, callback) {
                var imgCanvas = document.createElement("canvas"),
                    imgContext = imgCanvas.getContext("2d");

                // Make sure canvas is as big as the picture (needed??)
                imgCanvas.width = img.width;
                imgCanvas.height = img.height;

                // Draw image into canvas element
                imgContext.drawImage(img, 0, 0, img.width, img.height);

                var dataURL = imgCanvas.toDataURL();

                $.ajax({
                    type: "POST",
                    url: "save-img.php", // see code at the bottom
                    data: {
                        imgBase64: dataURL
                    }
                }).done(function(resp) {
                    if (resp.startsWith('nok')) {
                        console.warn('got save error:', resp);
                    } else {
                        if (callback) callback(resp);
                    }
                });
            },

            update_options_for_width: function(w) {
                var o = CiM.opt, //shortcut
                    vp_ratio = o.my_final_size.w / o.my_final_size.h,
                    h, new_vp_w, new_vp_h;
                w = Math.floor(w * 0.9);
                h = Math.floor(w / o.my_win_ratio);
                o.container.width = w;
                o.container.height = h;
                new_vp_h = 0.6 * h;
                new_vp_w = new_vp_h * vp_ratio;
                // if we adapted to the height, but it's too wide:
                if (new_vp_w > 0.6 * w) {
                    new_vp_w = 0.6 * w;
                    new_vp_h = new_vp_w / vp_ratio;
                }
                new_vp_w = Math.floor(new_vp_w);
                new_vp_h = Math.floor(new_vp_h);
                o.viewport.height = new_vp_h;
                o.viewport.width = new_vp_w;
            },

            show_cropme_in_div: function(cropme_div) {
                if (CiM.myCropme)
                    CiM.myCropme.destroy();
                CiM.myCropme = new Cropme(cropme_div, CiM.opt);
                CiM.myCropme.bind({ url: CiM.imgHolder.src });
            }
        }

        window.onload = function() {

            function getBase64Image(img) {
                var canvas = document.createElement("canvas");
                canvas.width = img.width;
                canvas.height = img.height;
                var ctx = canvas.getContext("2d");
                ctx.drawImage(img, 0, 0);
                var dataURL = canvas.toDataURL("image/png");
                return dataURL.replace(/^data:image\/(png|jpg);base64,/, "");
            }

            var croppedImg = $('#saved-img'),
                savedImg = $('#saved-img');

            CiM.opt.my_final_size = { w: 240, h: 292 };
            CiM.opt.my_win_ratio = 1.5;

            savedImg[0].src = CiM.get_image_placeholder('?');

            $('#imgModal-btnCrop').on('click', function() {
                CiM.crop_into_img(croppedImg, function() {
                    //var base64 = getBase64Image(document.getElementById("saved-img"));
                    //document.getElementById('saved-img').src = 'data:image/png;base64,' + base64
                    //console.log(base64)
                    $('#imgModal-dialog').modal('hide');
                    //$('#imgModal-btnSave').show();
                    $('#imgModal-btnCrop').hide();
                });
            });

            $('#imgModal-btnCancel').on('click', function() {
                $('#imgModal-dialog').modal('hide');
            });

            $('#imgModal-btnSave').on('click', function() {

                var base64 = getBase64Image(document.getElementById("saved-img"));
                document.getElementById('saved-img').src = 'data:image/png;base64,' + base64
                console.log(base64)
                $('#imgModal-dialog').modal('hide');

            });
            $('#btnGetImage').on('click', function() {
                //force 'change' event even if repeating same file:
                $('#fileUpload').prop("value", "");
                $('#fileUpload').click();
            });
            $('#fileUpload').on('change', function() {
                CiM.read_file_from_input(/*input elem*/this, function() {
                    console.log('image src fully loaded');
                    $('#imgModal-dialog').modal('show');
                });
            });
            $('#imgModal-dialog').on('shown.bs.modal', function() {
                var cropZone = $('#imgModal-cropme');

                CiM.update_options_for_width($('#imgModal-msg').width());

                $('#imgModal-btnSave').hide();
                $('#imgModal-btnCrop').show();
                croppedImg[0].src = '';
                CiM.show_cropme_in_div($('#imgModal-cropme')[0]);
            });

            /////////////////////////////////////////

            var croppedImgFotoPerfil = $('#saved-imgFotoPerfil'),
                savedImgFotoPerfil = $('#saved-imgFotoPerfil');

            CiM.opt.my_final_size = { w: 240, h: 292 };
            CiM.opt.my_win_ratio = 1.5;

            savedImgFotoPerfil[0].src = CiM.get_image_placeholder('?');

            $('#imgModal-btnCropFotoPerfil').on('click', function() {
                CiM.crop_into_img(croppedImgFotoPerfil, function() {
                    //$('#imgModal-btnSaveFotoPerfil').show();
                    $('#imgModal-dialogFotoPerfil').modal('hide');
                    $('#imgModal-btnCropFotoPerfil').hide();
                });
            });

            $('#imgModal-btnCancelFotoPerfil').on('click', function() {
                $('#imgModal-dialogFotoPerfil').modal('hide');
            });

            $('#imgModal-btnSaveFotoPerfil').on('click', function() {

                var base64 = getBase64Image(document.getElementById("cropped-imgFotoPerfil"));
                document.getElementById('saved-imgFotoPerfil').src = 'data:image/png;base64,' + base64
                console.log(base64)
                $('#imgModal-dialogFotoPerfil').modal('hide');

            });
            $('#btnGetImageFotoPerfil').on('click', function() {
                //force 'change' event even if repeating same file:
                $('#fileUploadFotoPerfil').prop("value", "");
                $('#fileUploadFotoPerfil').click();
            });
            $('#fileUploadFotoPerfil').on('change', function() {
                CiM.read_file_from_input(/*input elem*/this, function() {
                    console.log('image src fully loaded');
                    $('#imgModal-dialogFotoPerfil').modal('show');
                });
            });
            $('#imgModal-dialogFotoPerfil').on('shown.bs.modal', function() {
                var cropZone = $('#imgModal-cropmeFotoPerfil');

                CiM.update_options_for_width($('#imgModal-msgFotoPerfil').width());

                $('#imgModal-btnSaveFotoPerfil').hide();
                $('#imgModal-btnCropFotoPerfil').show();
                croppedImgFotoPerfil[0].src = '';
                CiM.show_cropme_in_div($('#imgModal-cropmeFotoPerfil')[0]);
            });


            /////////////////////////////////////////////////

            var croppedImgFotoMidia = $('#saved-imgFotoMidia'),
                savedImgFotoMidia = $('#saved-imgFotoMidia');

            CiM.opt.my_final_size = { w: 240, h: 292 };
            CiM.opt.my_win_ratio = 1.5;

            savedImgFotoMidia[0].src = CiM.get_image_placeholder('?');

            $('#imgModal-btnCropFotoMidia').on('click', function() {
                CiM.crop_into_img(croppedImgFotoMidia, function() {
                    //$('#imgModal-btnSaveFotoMidia').show();
                    $('#imgModal-dialogFotoMidia').modal('hide');
                    $('#imgModal-btnCropFotoMidia').hide();
                });
            });

            $('#imgModal-btnCancelFotoMidia').on('click', function() {
                $('#imgModal-dialogFotoMidia').modal('hide');
            });

            $('#imgModal-btnSaveFotoMidia').on('click', function() {

                var base64 = getBase64Image(document.getElementById("cropped-imgFotoMidia"));
                document.getElementById('saved-imgFotoMidia').src = 'data:image/png;base64,' + base64
                console.log(base64)
                $('#imgModal-dialogFotoMidia').modal('hide');

            });
            $('#btnGetImageFotoMidia').on('click', function() {
                //force 'change' event even if repeating same file:
                $('#fileUploadFotoMidia').prop("value", "");
                $('#fileUploadFotoMidia').click();
            });
            $('#fileUploadFotoMidia').on('change', function() {
                CiM.read_file_from_input(/*input elem*/this, function() {
                    console.log('image src fully loaded');
                    $('#imgModal-dialogFotoMidia').modal('show');
                });
            });
            $('#imgModal-dialogFotoMidia').on('shown.bs.modal', function() {
                var cropZone = $('#imgModal-cropmeFotoMidia');

                CiM.update_options_for_width($('#imgModal-msgFotoMidia').width());

                $('#imgModal-btnSaveFotoMidia').hide();
                $('#imgModal-btnCropFotoMidia').show();
                croppedImgFotoMidia[0].src = '';
                CiM.show_cropme_in_div($('#imgModal-cropmeFotoMidia')[0]);
            });


        };



        //////////////////////////////////////

        function getBase64Image(img) {
            var canvas = document.createElement("canvas");
            canvas.width = img.width;
            canvas.height = img.height;
            var ctx = canvas.getContext("2d");
            ctx.drawImage(img, 0, 0);
            var dataURL = canvas.toDataURL("image/png");
            return dataURL.replace(/^data:image\/(png|jpg);base64,/, "");
        }

        GetPerfilPrestador()
        GetPublicacaoPrestador()
        GetGaleriaPrestador()

        var existMuralPrestador = false
        var idMuralPrestador = 0
        var idCardDelete = 0

        var latitude = 0
        var longitude = 0
        var raio = 0

        function GetPerfilPrestador() {
            const ajax = new XMLHttpRequest();
            ajax.open('GET', RotaAPI + 'api/UsuarioPrestador/GetByToken?idUsuario=' + @Model);
            ajax.responseType = 'json';
            ajax.onload = function(e) {
                if (this.status == 200) {

                    document.getElementById('fotoPerfilPrestador').src = RotaAPI + "api/UsuarioPrestador/" + this.response.data.idFotoPerfil
                    document.getElementById('fotoPerfilGaleriaAmpliada').src = RotaAPI + "api/UsuarioPrestador/" + this.response.data.idFotoPerfil
                    document.getElementById('fotoPublicacaoAmpliada').src = RotaAPI + "api/UsuarioPrestador/" + this.response.data.idFotoPerfil
                    document.getElementById("apelidoPrestador").textContent = this.response.data.apelido;
                    document.getElementById("nomeUsuarioGaleriaAmpliada").innerText = this.response.data.apelido;
                    document.getElementById("nomeUsuarioPublicacaoAmpliada").innerText = this.response.data.apelido;
                    document.getElementById("categoriaPrestador").textContent = this.response.data.categoria.descricao;
                    document.getElementById("emailPrestador").textContent = this.response.data.email;
                    document.getElementById("numVisualizacoes").textContent = this.response.data.numVisualizacoes;

                    if (this.response.data.raio != 0) {
                        document.getElementById("txtRaioAtendimento").innerText = this.response.data.raio + " Kilômetros";
                    }

                    if (this.response.data.enderecoBase != null) {
                        document.getElementById("txtRegiaoAtendimento").innerText = this.response.data.enderecoBase.bairro;
                        document.getElementById("txtRegiaoAtendimentoCidade").innerText = this.response.data.enderecoBase.localidadeNome + " - " + this.response.data.enderecoBase.uf;
                    }

                    console.log(this.response)

                    if (this.response.data.mural != null) {
                        idMuralPrestador = this.response.data.mural.id
                        existMuralPrestador = true
                        document.getElementById("descMuralPrestador").textContent = this.response.data.mural.descricao;
                        document.getElementById("tituloMuralPrestador").textContent = this.response.data.mural.titulo;

                        document.getElementById("linkPerfil").value = RotaWeb + "DetalhePerfil/" + @Model;
                        document.getElementById("btnShareWhatsapp").href = 'whatsapp://send?text=Olá, estou te convidando para fazer parte do meu mural de parceitos, acesse o link e me aceite: ' + RotaAPI + 'DetalhePerfil/' + @Model;
                        document.getElementById("shareWhatsapp").href = 'whatsapp://send?text=Olá, este é meu perfil no Jobbe, acesse o link e tenha acesso a todo meu conteúdo: ' + RotaAPI + 'DetalhePerfil/' + @Model;
                        //document.getElementById("btnShareFacebook").data-url = RotaWeb + "DetalhePerfil/" + @Model;

                        titulo = document.getElementById("tituloMural").value = this.response.data.mural.titulo;
                        descricao = document.getElementById("descricaoMural").value = this.response.data.mural.descricao;
                    }

                    if (this.response.data.cards != null) {

                        for (let i = 0; i < this.response.data.cards.length; i = i + 1) {
                            var html = `
                                                <div id="card` + this.response.data.cards[i].id + `" style="padding-left: 2vw;padding-right: 2vw;padding-top: 10px;margin-bottom: 10px;" class="card">
                                                  <div class="row g-0 align-items-center mb-3">
                                                            <div class="col-auto">
                                                                <div class="border border-primary sw-5 sh-5 rounded-xl d-flex justify-content-center align-items-center">
                                                                    <i data-cs-icon="screen" class="text-primary"></i>
                                                                </div>
                                                            </div>
                                                            <div class="col ps-3">
                                                                <div class="row g-0">
                                                                    <div class="col">
                                                                        <div class="sh-5 d-flex align-items-center lh-1-25">` + this.response.data.cards[i].titulo + `</div>
                                                                        <p class="text-muted m-0 text-small">` + this.response.data.cards[i].descricao + `</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-auto">
                                                                <button data-bs-toggle="modal" data-bs-target="#modalDeleteCard" id="` + this.response.data.cards[i].id + `" onclick="selectCardDelete(this.id)" class="btn btn-sm btn-icon btn-icon-only btn-outline-primary ms-1" type="button">
                                                                    <i data-cs-icon="close"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                </div>
                                                `;

                            document.getElementById("listaCards").innerHTML += html
                        }

                    }

                    if (this.response.data.telefones != null) {

                        for (let i = 0; i < this.response.data.cards.length; i = i + 1) {
                            var html = `
                                                  <div class="text-muted">
                                                            <i data-cs-icon="phone" class="me-1"></i>
                                                            <span class="align-middle"><span></span>` + this.response.data.telefones[i].numeroTelefone + `</span>
                                                    </div>
                                                `;

                            document.getElementById("listaTelefone").innerHTML += html
                        }

                    }
                }
            };

            ajax.send();
        }

        function GetPublicacaoPrestador() {
            const ajax = new XMLHttpRequest();
            ajax.open('GET', RotaAPI + 'api/Publicacao?idUsuario=' + @Model);
            ajax.responseType = 'json';
            ajax.onload = function(e) {
                if (this.status == 200) {

                    console.log(this.response)

                    if (this.response.data != null) {

                        for (let i = 0; i < this.response.data.length; i = i + 1) {
                            var html = `
                                                  <div id="publicacao` + this.response.data[i].id +`" data-bs-toggle="modal" data-bs-target="#modalPublicacaoAmpliada" class="card mb-5">
                                                            <a>
                                                                <img style="min-height: 70vh;" src="` + RotaAPI + 'api/Publicacao/' + this.response.data[i].urlMidia + `" class="card-img-top sh-35" alt="card image" />
                                                            </a>
                                                            <div class="card-body">
                                                                    <p class="text-alternate clamp-line mb-0" data-line="2">
                                                                        ` + this.response.data[i].descricao + `
                                                                    </p>
                                                            </div>
                                                   </div>
                                                `;

                            document.getElementById("listaPublicacao").innerHTML += html

                            var html2 = `
                                                <div id="publicacaoAmpliada` + this.response.data[i].id +`" style="margin-top:5vh">
                                                    <div style="width:100%; display: flex; justify-content: center;">
                                                        <img style="height:70vh" src="` + RotaAPI + 'api/Publicacao/' + this.response.data[i].urlMidia + `" />
                                                    </div>

                                                    <div style="width:100%; display: flex; justify-content: center;">
                                                        <p class="text-alternate clamp-line mb-0" data-line="2">
                                                            ` + this.response.data[i].descricao + `
                                                        </p>
                                                    </div>

                                                    <div style="width:100%; display: flex; justify-content: center; margin-top:2vh">
                                                        <div style="width:100%; display: flex; justify-content: center;">
                                                            <button onClick="deletePublicacao(` + this.response.data[i].id +`)" type="button" class="btn btn-outline-primary">Deletar Publicação</button>
                                                        </div>
                                                    </div>

                                                    <hr style="width:100%; margin-top:3vh"/>

                                                </div>
                                        `;

                            document.getElementById("framePublicacaoAmpliada").innerHTML += html2

                        }

                    }
                }
            };

            ajax.send();
        }

        function GetGaleriaPrestador() {
            const ajax = new XMLHttpRequest();
            ajax.open('GET', RotaAPI + 'api/Galeria?idUsuario=' + @Model);
            ajax.responseType = 'json';
            ajax.onload = function(e) {
                if (this.status == 200) {

                    console.log(this.response)

                    if (this.response.data != null) {

                        for (let i = 0; i < this.response.data.length; i = i + 1) {

                            var html = `
                                                          <div id="galeria` + this.response.data[i].id +`" class="col">
                                                            <div class="card sh-35 hover-img-scale-up hover-reveal">
                                                            <img data-bs-toggle="modal" data-bs-target="#exampleModalFullscreen" src="` + RotaAPI + 'api/Galeria/' + this.response.data[i].urlMidia + `" class="card-img h-100 scale" alt="card image" />
                                                            </div>
                                                        </div>
                                                `;

                            document.getElementById("listaGaleria").innerHTML += html
                            
                            var html2 = `
                                                <div id="galeriaAmpliada` + this.response.data[i].id +`" style="margin-top:5vh">
                                                    <div style="width:100%; display: flex; justify-content: center;">
                                                        <img style="height:70vh" src="` + RotaAPI + 'api/Galeria/' + this.response.data[i].urlMidia + `" />
                                                    </div>

                                                    <div style="width:100%; display: flex; justify-content: center; margin-top:2vh">
                                                        <div style="width:100%; display: flex; justify-content: center;">
                                                            <button onClick="deleteGaleria(` + this.response.data[i].id +`)" type="button" class="btn btn-outline-primary">Deletar Foto</button>
                                                        </div>
                                                    </div>

                                                    <hr style="width:100%; margin-top:3vh"/>

                                                </div>
                                        `;

                            document.getElementById("frameImagemAmpliada").innerHTML += html2
                        }

                    }
                }
            };

            ajax.send();
        }

        document.getElementById("btnSalvarMural").addEventListener("click", salvarMural, false);

        function salvarMural() {

            titulo = document.getElementById("tituloMural").value
            descricao = document.getElementById("descricaoMural").value

            if (existMuralPrestador) {
                var ajax = new XMLHttpRequest();
                ajax.open("PUT", RotaAPI + "api/Mural");
                ajax.setRequestHeader("Content-Type", "application/json");
                ajax.send(JSON.stringify({ titulo: titulo, descricao: descricao, id: idMuralPrestador }));
                ajax.onreadystatechange = function() {
                    if (ajax.status == 200) {
                        console.log(JSON.parse(this.response))
                        idMuralPrestador = JSON.parse(this.response).data.id
                        existMuralPrestador = true
                        document.getElementById("descMuralPrestador").textContent = descricao;
                        document.getElementById("tituloMuralPrestador").textContent = titulo;
                        document.getElementById("btnCloseAddMural").click();
                    } else {
                        alertErro()
                    }
                }

            } else {
                var ajax = new XMLHttpRequest();
                ajax.open("POST", RotaAPI + "api/Mural");
                ajax.setRequestHeader("Content-Type", "application/json");
                ajax.send(JSON.stringify({ titulo: titulo, descricao: descricao, idUsuario: @Model}));
                ajax.onreadystatechange = function() {
                    if (ajax.status == 200) {
                        idMuralPrestador = JSON.parse(this.response).data.id
                        existMuralPrestador = true
                        document.getElementById("descMuralPrestador").textContent = descricao;
                        document.getElementById("tituloMuralPrestador").textContent = titulo;
                        document.getElementById("btnCloseAddMural").click();
                    } else {
                        alertErro()
                    }
                }
            }
        }

        document.getElementById("btnSalvarCard").addEventListener("click", salvarCard, false);

        function salvarCard() {

            tituloCard = document.getElementById("tituloCard").value
            descricaoCard = document.getElementById("descricaoCard").value

            var ajaxCard = new XMLHttpRequest();
            ajaxCard.open("POST", RotaAPI + "api/CardPerfil");
            ajaxCard.setRequestHeader("Content-Type", "application/json");
            ajaxCard.send(JSON.stringify({ titulo: tituloCard, descricao: descricaoCard, idUsuario: @Model}));
            ajaxCard.onreadystatechange = function() {
                if (ajaxCard.readyState == 4) {
                    if (ajaxCard.status == 200) {
                        var htmlCard = `
                                                <div id="card` + JSON.parse(this.response).data.id + `" style="padding-left: 2vw;padding-right: 2vw;padding-top: 10px;margin-bottom: 10px;" class="card">
                                                  <div class="row g-0 align-items-center mb-3">
                                                            <div class="col-auto">
                                                                <div class="border border-primary sw-5 sh-5 rounded-xl d-flex justify-content-center align-items-center">
                                                                    <i data-cs-icon="screen" class="text-primary"></i>
                                                                </div>
                                                            </div>
                                                            <div class="col ps-3">
                                                                <div class="row g-0">
                                                                    <div class="col">
                                                                        <div class="sh-5 d-flex align-items-center lh-1-25">` + tituloCard + `</div>
                                                                        <p class="text-muted m-0 text-small">` + descricaoCard + `</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-auto">
                                                                <button data-bs-toggle="modal" data-bs-target="#modalDeleteCard" id="` + JSON.parse(this.response).data.id + `" onclick="selectCardDelete(this.id)" class="btn btn-sm btn-icon btn-icon-only btn-outline-secondary ms-1" type="button">
                                                                    <i data-cs-icon="close"></i>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                `;

                        document.getElementById("listaCards").innerHTML += htmlCard
                        document.getElementById("btnCloseAddCard").click();

                    } else {
                        alertErro()
                    }
                }
            }
        }

        document.getElementById("btnSalvarPublicacao").addEventListener("click", salvarPublicacao, false);

        function salvarPublicacao() {

            descricaoCard = document.getElementById("descricaoPublicacao").value

            //var base64 = getBase64Image(document.getElementById("saved-img"));
            var base64Completed = document.getElementById("saved-img").src
            var base64 = base64Completed.split(",").pop()
            console.log(base64)

            var ajaxCard = new XMLHttpRequest();
            ajaxCard.open("POST", RotaAPI + "api/Publicacao");
            ajaxCard.setRequestHeader("Content-Type", "application/json");
            ajaxCard.send(JSON.stringify({ base64Midia: base64, descricao: descricaoCard, idUsuario: @Model}));
            ajaxCard.onreadystatechange = function() {
                console.log(ajaxCard)
                if (ajaxCard.readyState == 4) {
                    if (ajaxCard.status == 200) {
                        var html = `
                                        <div id="publicacao` + JSON.parse(this.response).data.id +`" data-bs-toggle="modal" data-bs-target="#modalPublicacaoAmpliada" class="card mb-5">
                                                <a>
                                                    <img style="min-height: 70vh;" src="` + RotaAPI + 'api/Publicacao/' + JSON.parse(this.response).data.urlMidia + `" class="card-img-top sh-35" alt="card image" />
                                                </a>
                                                <div class="card-body">
                                                    <p class="text-alternate clamp-line mb-0" data-line="2">
                                                        ` + JSON.parse(this.response).data.descricao + `
                                                    </p>
                                                </div>
                                        </div>
                                    `;

                        var html2 = `
                                <div id="publicacaoAmpliada` + JSON.parse(this.response).data.id +`" style="margin-top:5vh">
                                    <div style="width:100%; display: flex; justify-content: center;">
                                        <img style="height:70vh" src="` + RotaAPI + 'api/Publicacao/' + JSON.parse(this.response).data.urlMidia + `" />
                                    </div>

                                    <div style="width:100%; display: flex; justify-content: center;">
                                        <p class="text-alternate clamp-line mb-0" data-line="2">
                                            ` + JSON.parse(this.response).data.descricao + `
                                        </p>
                                    </div>

                                    <div style="width:100%; display: flex; justify-content: center; margin-top:2vh">
                                        <div style="width:100%; display: flex; justify-content: center;">
                                            <button onClick="deletePublicacao(` + JSON.parse(this.response).data.id +`)" type="button" class="btn btn-outline-primary">Deletar Publicação</button>
                                        </div>
                                    </div>

                                    <hr style="width:100%; margin-top:3vh"/>

                                </div>
                            `;

                        htmlBase = document.getElementById("listaPublicacao").innerHTML
                        document.getElementById("listaPublicacao").innerHTML = html
                        document.getElementById("listaPublicacao").innerHTML += htmlBase
                        document.getElementById("btnCloseAddPublicacao").click();
                        document.getElementById("descricaoPublicacao").value = ''

                        htmlBase2 = document.getElementById("framePublicacaoAmpliada").innerHTML
                        document.getElementById("framePublicacaoAmpliada").innerHTML = html2
                        document.getElementById("framePublicacaoAmpliada").innerHTML += htmlBase2

                    } else {
                        alertErro()
                    }
                }
            }
        }

        document.getElementById("btnSalvarMidia").addEventListener("click", salvarMidia, false);

        function salvarMidia() {

            //var base64 = getBase64Image(document.getElementById("saved-imgFotoMidia"));
            var base64Completed = document.getElementById("saved-imgFotoMidia").src
            var base64 = base64Completed.split(",").pop()
            console.log(base64)

            var ajaxGaleria = new XMLHttpRequest();
            ajaxGaleria.open("POST", RotaAPI + "api/Galeria");
            ajaxGaleria.setRequestHeader("Content-Type", "application/json");
            ajaxGaleria.send(JSON.stringify({ base64Midia: base64, idUsuario: @Model}));
            ajaxGaleria.onreadystatechange = function() {
                console.log(ajaxGaleria)
                if (ajaxGaleria.readyState == 4) {
                    if (ajaxGaleria.status == 200) {
                                                
                        var html = `
                                    <div id="galeria` + JSON.parse(this.response).data.id +`" class="col">
                                        <div class="card sh-35 hover-img-scale-up hover-reveal">
                                            <img data-bs-toggle="modal" data-bs-target="#exampleModalFullscreen" src="` + RotaAPI + 'api/Galeria/' + JSON.parse(this.response).data.urlMidia + `" class="card-img h-100 scale" alt="card image" />
                                        </div>
                                    </div>
                                    `;

                        var html2 = `
                                    <div id="galeriaAmpliada` + JSON.parse(this.response).data.id +`" style="margin-top:5vh">
                                        <div style="width:100%; display: flex; justify-content: center;">
                                            <img style="height:70vh" src="` + RotaAPI + 'api/Galeria/' + JSON.parse(this.response).data.urlMidia + `" />
                                        </div>

                                        <div style="width:100%; display: flex; justify-content: center; margin-top:2vh">
                                            <div style="width:100%; display: flex; justify-content: center;">
                                                <button onClick="deleteGaleria(` + JSON.parse(this.response).data.id +`)" type="button" class="btn btn-outline-primary">Deletar Foto</button>
                                            </div>
                                        </div>

                                        <hr style="width:100%; margin-top:3vh"/>

                                    </div>
                                        `;

                        htmlBase = document.getElementById("listaGaleria").innerHTML
                        document.getElementById("listaGaleria").innerHTML = html
                        document.getElementById("listaGaleria").innerHTML += htmlBase

                        document.getElementById("btnCloseAddMidia").click();

                        htmlBase2 = document.getElementById("frameImagemAmpliada").innerHTML
                        document.getElementById("frameImagemAmpliada").innerHTML = html2
                        document.getElementById("frameImagemAmpliada").innerHTML += htmlBase2

                    } else {
                        alertErro()
                    }
                }
            }

        }

        document.getElementById("btnSalvarFotoPerfil").addEventListener("click", salvarFotoPerfil, false);

        function salvarFotoPerfil() {

            //var base64 = getBase64Image(document.getElementById("saved-imgFotoPerfil"));
            var base64Completed = document.getElementById("saved-imgFotoPerfil").src
            var base64 = base64Completed.split(",").pop()
            console.log(base64)

            var ajaxCard = new XMLHttpRequest();
            ajaxCard.open("POST", RotaAPI + "api/UsuarioPrestador/upload-foto-perfil");
            ajaxCard.setRequestHeader("Content-Type", "application/json");
            ajaxCard.send(JSON.stringify({ IdUsuario: @Model, Base64Imagem: base64 }));
            ajaxCard.onreadystatechange = function() {
                console.log(ajaxCard)
                if (ajaxCard.readyState == 4) {
                    if (ajaxCard.status == 200) {

                        document.getElementById('fotoPerfilPrestador').src = 'data:image/png;base64,' + base64
                        document.getElementById("btnCloseAlterarFotoPerfil").click();

                    } else {
                        alertErro()
                    }
                }
            }
        }

        document.getElementById("btnSalvarRegiao").addEventListener("click", salvarRegiao, false);

        function salvarRegiao() {

            //var base64 = getBase64Image(document.getElementById("saved-imgFotoPerfil"));
            raio = document.getElementById("valorKm").textContent
            console.log("Latitude: " + latitude)
            console.log("Longitude: " + longitude)
            console.log("Raio: " + raio)

            var ajaxRegiao = new XMLHttpRequest();
            ajaxRegiao.open("POST", RotaAPI + "api/UsuarioPrestador/vincula-regiao");
            ajaxRegiao.setRequestHeader("Content-Type", "application/json");
            ajaxRegiao.send(JSON.stringify({ idUsuario: @Model, latitude: latitude, longitude: longitude, raio: raio }));
            ajaxRegiao.onreadystatechange = function() {
                console.log(ajaxRegiao)
                if (ajaxRegiao.readyState == 4) {
                    if (ajaxRegiao.status == 200) {
                        document.getElementById("btnCloseRegiaoLocalizacao").click();

                    } else {
                        alertErro()
                    }
                }
            }
        }


        function selectCardDelete(idCard) {
            idCardDelete = idCard
        }

        document.getElementById("btnDeletarCard").addEventListener("click", deleteCard, false);

        function deleteCard() {

            const ajax = new XMLHttpRequest();
            ajax.open('DELETE', RotaAPI + 'api/CardPerfil/' + idCardDelete);
            ajax.responseType = 'json';
            ajax.onload = function(e) {
                if (this.status == 200) {

                    if (this.response.data) {

                        document.getElementById("card" + idCardDelete).outerHTML = "";
                        document.getElementById("btnCloseRemoveCard").click();

                    }
                }
            };

            ajax.send();
        }

        function deleteGaleria(idGaleria) {

            const ajax = new XMLHttpRequest();
            ajax.open('DELETE', RotaAPI + 'api/Galeria/' + idGaleria);
            ajax.responseType = 'json';
            ajax.onload = function(e) {
                if (this.status == 200) {

                    if (this.response.data) {

                        document.getElementById("galeriaAmpliada" + idGaleria).outerHTML = "";
                        document.getElementById("galeria" + idGaleria).outerHTML = "";
                        //document.getElementById("btnCloseRemoveCard").click();

                    }
                }
            };

            ajax.send();
        }
        
        function deletePublicacao(idPublicacao) {

            const ajax = new XMLHttpRequest();
            ajax.open('DELETE', RotaAPI + 'api/Publicacao/' + idPublicacao);
            ajax.responseType = 'json';
            ajax.onload = function(e) {
                if (this.status == 200) {

                    if (this.response.data) {

                        document.getElementById("publicacaoAmpliada" + idPublicacao).outerHTML = "";
                        document.getElementById("publicacao" + idPublicacao).outerHTML = "";
                        //document.getElementById("btnCloseRemoveCard").click();

                    }
                }
            };

            ajax.send();
        }

        document.getElementById("btnSelecionarLocalizacao").addEventListener("click", getLocation, false);

        function fecharModalRegiaoAtendimento() {

            document.getElementById("btnCloseRegiaoAtendimento").click();
        }

        document.getElementById("btnBuscarCep").addEventListener("click", BuscarCep, false);

        function BuscarCep() {

            var enderecoPorCelText = document.getElementById("enderecoPorCep");
            cep = document.getElementById("cepLocalizacao").value
            console.log("Cep: " + cep)

            const ajax = new XMLHttpRequest();
            ajax.open('GET', RotaAPI + 'api/EnderecoBase/' + cep);
            ajax.responseType = 'json';
            ajax.onload = function(e) {
                if (this.status == 200) {
                    console.log(this.response)
                    enderecoPorCelText.innerHTML = this.response.data.logradouroTipo + " " + this.response.data.logradouroNome + "<br>" + this.response.data.bairro + "<br>" + this.response.data.localidadeNome + " - " + this.response.data.uf;
                    document.getElementById("btnSalvarRegiaoCep").style.visibility = "visible";
                    latitude = this.response.data.latitude
                    longitude = this.response.data.longitude
                }
            };

            ajax.send();
        }

        document.getElementById("btnSalvarRegiaoCep").addEventListener("click", SalvarRegiaoCep, false);

        function SalvarRegiaoCep() {

            raio = document.getElementById("valorKmCep").textContent

            var ajaxRegiao = new XMLHttpRequest();
            ajaxRegiao.open("POST", RotaAPI + "api/UsuarioPrestador/vincula-regiao");
            ajaxRegiao.setRequestHeader("Content-Type", "application/json");
            ajaxRegiao.send(JSON.stringify({ idUsuario: @Model, latitude: latitude, longitude: longitude, raio: raio }));
            ajaxRegiao.onreadystatechange = function() {
                console.log(ajaxRegiao)
                if (ajaxRegiao.readyState == 4) {
                    if (ajaxRegiao.status == 200) {
                        document.getElementById("btnCloseRegiaoCep").click();

                    } else {
                        alertErro()
                    }
                }
            }
        }

        document.getElementById("btnSelecionarCep").addEventListener("click", fecharModalRegiaoAtendimentoCep, false);

        function fecharModalRegiaoAtendimentoCep() {

            document.getElementById("btnCloseRegiaoAtendimento").click();
        }

        function alertErro() {
            sweetAlert("Algo deu errado!", "Não foi possível salvar o registro.", "error")
        }

        document.getElementById("btnCopiarLink").addEventListener("click", CopyClipboard, false);

        function CopyClipboard() {
            var copyText = document.getElementById("linkPerfil");
            var copyButton = document.getElementById("btnCopiarLink");

            copyText.select();
            copyText.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(copyText.value);
            copyButton.textContent = 'Copiado';
        }

        function getLocation() {
            fecharModalRegiaoAtendimento()
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(savePosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function savePosition(position) {
            var x = document.getElementById("latitudelongitude");
            console.log(position.coords.latitude)
            console.log(position.coords.longitude)
            latitude = position.coords.latitude
            longitude = position.coords.longitude

            const ajax = new XMLHttpRequest();
            ajax.open('GET', RotaAPI + 'api/EnderecoBase/' + latitude + '/' + longitude);
            ajax.responseType = 'json';
            ajax.onload = function(e) {
                if (this.status == 200) {
                    console.log(this.response)
                    x.innerHTML = this.response.data.bairro + "<br>" + this.response.data.localidadeNome + " - " + this.response.data.uf;
                }
            };

            ajax.send();
        }

        var slider = document.getElementById("myRange");
        var output = document.getElementById("valorKm");
        output.innerHTML = slider.value;

        slider.oninput = function() {
            output.innerHTML = this.value;
        }


        var sliderCep = document.getElementById("myRangeCep");
        var outputCep = document.getElementById("valorKmCep");
        outputCep.innerHTML = sliderCep.value;

        sliderCep.oninput = function() {
            outputCep.innerHTML = this.value;
        }

    </script>

</body>
</html>
